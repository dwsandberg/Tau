<!doctype html> <html lang="en"> <meta charset="utf-8"> <head> <link rel="stylesheet" href="../tau.css"></head><body> <h3>Command PEGdebug</h3> <p> <strong>PEGdebug</strong> displays a trace of running a PEG. <br> <strong>-</strong> input Expected first paragraph of input to be input and second paragraph to be the grammar. <br> <strong>-</strong> steps from to. Only display steps between from and to. <br> <strong>-</strong> notable. Do not display the parse table or grammar. <h3>Command buildhelp</h3> <p> <strong>buildhelp</strong> update helpdata in module. <br> <strong>input</strong> files from which to extract the help data. <br> <strong>target</strong> file to update help data in <br> <strong>shellscript</strong> produces shell script to define commands. <br> <strong>doc</strong> format for command documentation source file. <h3>Command entrypoint</h3> <p> <strong>entrypoint</strong> For seeing the Module the compiler generates to define the entry point. <br>Options: <br> <strong>entryUses</strong> addition use clause added to module when building entry point. <br> <strong>core</strong> Only show core of Module. <h3>Command front</h3> <p> <p>The <strong>front</strong> is a multiple-purpose command. It outputs data from various stages of the compiler. <p>One use is to determine which functions are used between modules. The usegraph of the core functions indicates there are dependencies between the modules texio, file and bits. To see the dependences, use <span class="block">block front +built core.libsrc mods: textio file bits format</span> A graph will be displayed with the dependencies between the modules. The nodes in the graph are the procedure names. Since a name does not uniquely identify a function, hovering over the beginning of the name will pop up a more complete description beginning with the name of the function. <p>The dependence on the module bits will not be displayed. If an earlier pass of the compiler is specified like this <span class="block">front  +built taubc.libsrc mods = textio file bits format pass = text</span> then it will be displayed. <p>The dependence within the module textio can be seen with <span class="block">front  +built taubc.libsrc mods = textio pass = text within =</span> <p>To see all the functions that call functions <em>named</em> breakparagraph in the library use <span class="block">front  +built taubc.libsrc n = breakparagraph pass = text out = calledby</span> <p>This will list the function definitions in a package <span class="block">front  +built taubc.libsrc mods = textio out = symdef</span> The format is the function followed by a post order transversal of the call tree. The front command takes several parameters that control which functions are considered. <br> <strong>○</strong> n a list of names of functions to include <br> <strong>○</strong> ~n a list of names to exclude <br> <strong>○</strong> mods a list of modules to include <br> <strong>○</strong> ~mods a list of modules to exculde <br> <strong>○</strong> pass The option pass determines how much processing is done before looking at the symbols. <strong>•</strong> library Only report on functions imported from libraries. <br> <strong>•</strong> text Parse the input in such a way that the source code can be reconstructed. <br> <strong>•</strong> pass1 Output from first stage of processing. All bindings of text to symbols have been done. <br> <strong>•</strong> pass1a Like pass1 with Compiler options on Export statements added. <br> <strong>•</strong> pass2 After some optimization <br> <strong>•</strong> all Just before code generation <span class="block">. </span> <br> <strong>○</strong> % The option % determines the format of the output. <strong>•</strong> sym Just the symbol names <br> <strong>•</strong> symdef The symbol definitions. The format is the symbol followed by a post order transversal of the call tree. <br> <strong>•</strong> symdefgraph For each symbol definition, the definition is presented as a call tree graph. <br> <strong>•</strong> calledby The option n is ignored in building a call graph. Then only the symbols that • call symbols in n directly or indirectly are included in the graph <br> <strong>•</strong> calls The option n is ignored in building a call graph. Then only the symbols that • are called(directly or indirectly)from symbols in n are included in the graph. <br> <strong>•</strong> txt Instead of producing a SVG graph print the args of the graph. <br> <strong>•</strong> baseTypeCheck <br> <strong>•</strong> <span class="block">resultCheck</span> <h3>Command makeScript</h3> <p> <strong>makeScript</strong> creates shell script for building code. <br>The commands' primary is is in the shell script taubuild. <br> <strong>input</strong> build files <br> <strong>builddir</strong> build directory, usually"+built". <br> <strong>hashes</strong> two files with one containing lines from the unix command shasum. The two files are compared looking for identical lines which is used to determine which files have not be changed since the last build. <h3>Command makebitcode</h3> <p> <strong>makebitcode</strong> compiler <br>Options: <br> <strong>entryUses</strong> addition use clause added to module when building entry point. <br> <strong>profile</strong> generates information for profiling <br> <strong>showllvm</strong> show text form of llvm code generated for the names of procedure given. <br> <strong>info</strong> show text form of code info <br>/exports list of packes to show. <h3>Command prettyScript</h3> <p> <p> <strong>prettyScript</strong> pretty prints .bld script. <br> <strong>%</strong> format of output. <strong> <br>pretty</strong> ? <br> <strong>full</strong> Graph of dependences between files. <br> <strong>outdated</strong> like full but only include outdated files in graph <br> <strong>script</strong> shell script for updating without the file hashes <span class="block">. </span> options used for formats other than pretty. <br> <strong>roots</strong> only include the filenames list and their descendants in graph. <br> <strong>hashes</strong> ? <br> <strong>builddir</strong> build target directory. Defaults to"+built" <h3>Command tauhelp</h3> <p> <strong>tauhelp</strong> Help documentation for commands. <br>This information is extracted from the comment in the source code for the command. If no option is supplied a description of the commands are printed. <br> <strong>cmd</strong> restrict what is displayed. <br>"cmd: help1"will display documentation for tauhelp only and"cmd: help1 out"will display only the documentation of the out option of the tauhelp command. <br>Options: <strong></strong> % format of output. <br> <strong>shellscript</strong> creates a shell script for commands. <br> <strong>full</strong> Full documentations of commands <br> <strong>brief</strong> Show extract of <span class="block">documentations</span> <h3>Command transform</h3> <p> <p>The <strong>transform</strong> cmd takes a list of input source files. For each module in the input, a pretty printed file is created in the directory &lt;Tau>/tmp. Additional parameters allow for different variants. <span class="block">transform+tests profileExample.ls helloworld.ls <br>transform+tests profileExample.ls reorguse: <br>transform  +built profileExample.libsrc	 taubc.libinfo bind: <br>transform  +built profileExample.libsrc	 taubc.libinfo bind: reorguse: </span> <p>This first variant does not require the source to be semantically correct, but the syntax must be correct. It does not change the order of the paragraphs. <p>The second is like the first except that it moves the use paragraphs to the beginning of the module, removes duplicates, and sorts them. <p>The third is like the first but requires correct semantics. This allows some additional transformations such as <em>not(a = b)</em> to become <em>a ≠ b</em>. <br>○ <strong>target</strong> overides default target directory tmp <br>○ <strong>bind</strong> Does further processing of input to bind id's to symbols. <br>○ <strong>reorguse</strong> Reorganizes use clauses. If <em>bind</em> is also specified, unnecessary use clauses are removed. <br>○ <strong>link</strong> A list of file names ending with .html that will not be compiled but will be scanned for functions that are called by the files. Hyperlinks will be create from the location of the call to the definition in the link files. Files without a.html extenstion are ignored. <br>○ <strong>html</strong> An html file is produced with an index of modules. This option is useful for examining source code and contains for producing documentation with imbedded Tau code.This options contains one or more of the following. <strong>• Module</strong> Include modules in the table of contents. <br>• <strong>headersOnly</strong> Only include the headers of exported functions in result. <br>• <strong>h1</strong> include html h1 headers in table of contents <br>• <strong>h2</strong> include html h2 headers in table of contents <br>• <strong>h3</strong> include html h3 headers in table of contents <br>• <strong>h4</strong> include html h4 headers in table of contents <br>• <strong>h5</strong> include html h5 headers in table of contents <br>• <strong>h6</strong> include html h6 headers in table of <span class="block">contents</span> <br>○ <strong>modrename</strong> List of modules to rename in form: oldname1 newname1 oldname2 newname2... <br>○ <strong>patternmods</strong> List of modules that contains patterns. <br>See <a href="#patterns">Example</a> <br>○ <strong>cleanexports</strong> Remove exports for exports in module or if Export is from another module add comment to indicate where it comes from. <br>○ <strong>moveexports</strong> Move all exports to just after use clauses.The <span class="keyword">transform</span> command treats the function genEnum as magic and will generate code in a module for enumeration types instead of creating the code by hand. <a href="#enum">genEnum Example</a> <h3>Command unusedsymbols</h3> <p> <p> <strong>unusedsymbols</strong> cmd analyzes code looking for unused functions. <p>It forms the function call graph for the program. <br>It then looks for any sources in the call graph that are not the entry point of the program and lists them. Any functions that are generated from type definitions are also removed. <p>Here is an example tau <span class="block">tools unusedsymbols +built tools.libsrc taubc.libinfo</span> The behavior can be modified with flags. <br>- <strong>all</strong> list all unused functions--not just the roots. <br>- <strong>generated</strong> The symbols generated from type definitions are included. <br>- <strong>excessExports</strong> list symbols exported from a module but only used internally to that module. <br>- <strong>ignore</strong> Symbols with these names are not listed in the output. Default value is genEnum genPEG <h3>Command usegraph</h3> <p> <p> <strong>PROFILE</strong> usegraph <em>graphs</em> use relationship between modules in source code. <br> <br>options: <br> <strong>exclude</strong> lists the modules to ignore in the use clauses. <br> <strong>include</strong> restricts the modules considered to those listed. <br> <strong>order</strong> finds ordering of modules so for any arc in graph, the tail occurs before the head. <br> <span class="block">nograph Does not include graph in output. </span> <p>Examples: <span class="block">usegraph +built core.libsrc <a href="../documentation/Ex1usegraph.html">Result</a> <br>> usegraph +built core.libsrc exclude: seq standard <a href="../documentation/Ex2usegraph.html">Result</a> <br>> usegraph +built core.libsrc include: UTF8 words standard textio exclude: seq standard <a href="../documentation/Ex3usegraph.html">Result</a> <br>> usegraph +core UTF8.ls textio words standard encoding xxhash exclude = seq standard</span> <p> <p>The last two examples give the same result. The first excludes modules from consideration and the second only includes source files of modules that should be included.   
