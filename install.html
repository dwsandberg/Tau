<!doctype html> <meta charset="UTF-8"> <style > <!--span.avoidwrap{display:inline-block ;}span.keyword{color:blue ;}span.keywords{color:blue ;}span.literal{color:red ;}span.comment{color:green ;}span.block{padding:0px 0px 0px 0px ; margin:0px 0px 0px 20px ; display:block ;}--> </style>

<p> #!/bin/sh tau stdlib tools createdoc
<h2> Tau Install Instruction </h2> 
<p> Install command line tools for Mac OS, if not already installed.
<p> Down load zip file from GitHub
<p> Unzip to directory a which we will call &lt;Tau>. This directory will become the working directory for tau. You are free to choose another name. 
<p> Open Terminal and cd to Tau
<p> Run"bash bin/install". This is likely to generate a warning message about the llvm spec. 
<p> Modify PATH environment variable to include absolute path to &lt;Tau>/bin. 
<h2> HelloWorld </h2> 
<p> 1. Create a new directory &lt;Tau>/HelloWorld
<p> 2. Create a file txt file &lt;Tau>/HelloWorld/HelloWorld.ls that contains:
<p> <span class=keyword> Library </span> HelloWorld use stdlib exports HelloWorld
<p> <span class=keyword> Module </span> HelloWorld
<p> <span class=keyword> use </span> standard
<p> <span class=keyword> Function </span> entrypoint(args:UTF8)UTF8 HTMLformat.<span class=literal >"Hello World"</span> 
<p> 3. From terminal run:<span class=block> tau stdlib HelloWorld arg </span> 
<p> This will create a file &lt;tau>/tmp/stdlib.html and open the file in a browser. 
<p> In this command <em> tau </em> refers to a script in &lt;tau>/bin/tau. The next word, <em> stdlib </em>, refers to a dynamic library &lt;tau>/stdlib.dylib which tau will load and pass the rest of the command line as an argument to stdlib. 
<p> The library stdlib takes <em>"</em> HelloWorld"and creates another dynamic library &lt;tau>/Helloworld.dylib from the src in &lt;tau>/HelloWorld/HelloWorld.ls. Helloworld.dylib is then loaded and the entrypoint function is call with any remaining arguments, which in this case is"arg"If no args are present, then execute stops with the creation of HelloWorld.dylib.
<p> Once HelloWorld.dylib is created, the program can be run with <span class=block> tau HelloWorld arg </span> without any compiling taking place.
<p> One can direct the output to a file with <span class=block> tau-f file.html HelloWorld arg </span> 
<p> 4. Many text editors allow scripts to be run. To change HelloWorld into a script add as the first line of the HelloWorld.ls, the line <span class=block> #!/bin/sh tau stdlib HelloWorld </span> followed by a blank line. Your text editor may run HelloWorld as a script without setting the execute bit. To set the execute bit, use <span class=block> chmod+x HelloWorld/HelloWorld.ls </span> 
<h2> Installing Web Assembly Cross Compiler </h2> 
<p> Since wasm files cannot be served from filesystem a web server is require. OSX has an apache web server pre-installed so we will use that server with the DocumentRoot being &lt;Tau>. Below is the list of configuration changes that need to be made. Google to find details on how to make these changes.
<p> Change the user to your user name to avoid permission problems.<span class=block> User David </span> Change the document root to &lt;Tau> <span class=block> DocumentRoot"&lt;Tau>"
<br> &lt;Directory"&lt;Tau>"> </span> 
<p> Since files are cached by browse change cache control to retrieve new copy when file is changed on server. To do this add the directive <span class=block> set Cache-Control no-cache </span> to the &lt;IfModule headers_module> section of the configuration file.
<p> A CGI is used to write files on the server. To enable this CGI change the ScriptAliasMatch to <span class=block> ScriptAliasMatch^/cgi-bin/((?!(?i:webobjects)).*$)"/Users/david/work/bin/$1"</span> and add <span class=block> &lt;FilesMatch"/Users/david/work/bin/putfile.cgi"> \br SetHandler cgi-script \br &lt;/FilesMatch> </span> 
<p> Restart the Apache web server. 
<p> To see if all is working properly run the command <span class=block> tauÂ -w http://localhost/ stdlib webassembly wtests wtests </span> This should open a web browser with a link wtest. Follow the link which should open a page with two buttons that will run two tests. 